<a href="https://github.com/typst-g7-32/typst-g7-32/actions"><img src="https://github.com/typst-g7-32/typst-g7-32/actions/workflows/ci.yml/badge.svg" alt="License badge"></a>
<a href="https://github.com/typst-g7-32/typst-g7-32/blob/main/LICENSE"><img src="https://img.shields.io/github/license/typst-g7-32/typst-g7-32" alt="License badge"></a>
<a href="https://typst-gost.ru"><img src="https://img.shields.io/website?url=https%3A%2F%2Ftypst-gost.ru" alt="Website badge"></a>

# Предпросмотр
<p align="center">
    <a href="template/main.typ"><img src="https://github.com/typst-g7-32/typst-g7-32/blob/preview/source.png" alt="Source" width="48%"></a>
    <a href="https://github.com/typst-g7-32/typst-g7-32/blob/preview/main.pdf"><img src="https://github.com/typst-g7-32/typst-g7-32/blob/preview/preview.png" alt="Preview" width="48%"></a>
</p>

# Шаблон для оформления документов по ГОСТ 7.32-2017 на Typst
Проект представляет собой автоматизированный шаблон для оформления научных работ в соответствии с [ГОСТ 7.32-2017](assets/ГОСТ%207.32-2017.pdf). 
Создан для тех, кто ценит время и хочет сосредоточиться на содержании, а не ручном форматировании.

# Вдохновение
Проект возник из стремления преодолеть недостатки LaTeX-шаблонов для оформления документов по ГОСТ:
- Сохранение строгости стандартов: Мы переняли точность и соответствие стандартам, присущие решениям на основе LaTeX.
- Упрощение подключения и кастомизации: В отличие от LaTeX, где настройка и подключение дополнительных пакетов могут быть сложными и требовать глубоких знаний, наш шаблон в Typst предлагает более интуитивный и простой процесс настройки.
- Интеграция лучших практик оформления: Мы внедрили передовые подходы к оформлению документов, обеспечивая высокое качество и соответствие требованиям ГОСТ.

Недостатки LaTeX по сравнению с Typst:
- Сложность и громоздкость: LaTeX известен своей сложностью, особенно для новичков. Его синтаксис и структура могут быть трудными для освоения, что усложняет процесс создания и настройки документов.
- Медленная компиляция: Процесс компиляции документов в LaTeX может быть медленным, особенно при работе с большими проектами, что снижает эффективность работы. 
В отличие от этого, Typst предлагает более современный и интуитивно понятный подход к вёрстке документов, обеспечивая высокую скорость компиляции и широкую функциональность без необходимости в дополнительных модулях.

# Установка
На данный момент доступно только локальное использование, поскольку шаблон не выложен в [Typst Universe](https://typst.app/universe/).
Вы можете следить за прогрессом разработки версии для распространения [тут](https://github.com/typst-g7-32/typst-g7-32/milestone/1).

## На Linux

### Установка шрифтов
#### ALT Linux
```sh
su - -c "apt-get update && apt-get install fonts-ttf-ms"
```

#### Arch Linux/Manjaro/EndeavourOS/CachyOS
*(требует установленный [yay](https://github.com/Jguer/yay))*
```sh
yay ttf-ms-win11-auto
```

#### Debian/Ubuntu/elementary OS/Linux Mint/Pop! OS
```sh
sudo apt update
sudo apt install ttf-mscorefonts-installer
```

#### Fedora/RHEL
```sh
sudo dnf install https://downloads.sourceforge.net/project/mscorefonts2/rpms/msttcore-fonts-installer-2.6-1.noarch.rpm
```

### 1. Установка Rust и Cargo  
Typst требует установленного Rust и Cargo. Установите их с помощью команды:  
```sh
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
```

### 2. Перезапуск терминала  
Чтобы изменения вступили в силу, перезапустите текущую сессию терминала:  
```sh
exec $SHELL
```

### 3. Установка Typst CLI  
После установки Rust установите `typst-cli` через Cargo:  
```sh
cargo install --locked typst-cli
```

### 4. Клонирование репозитория шаблона  
Так как шаблон `typst-g7-32` ещё не опубликован, его необходимо временно добавить вручную в кэш пакетов Typst:  
```sh
git clone https://github.com/typst-g7-32/typst-g7-32 ~/.cache/typst/packages/preview/typst-g7-32/0.0.1
```

### 5. Создание проекта на основе шаблона  
Теперь можно создать новый проект с использованием шаблона `typst-g7-32`:  
```sh
typst init @preview/typst-g7-32:0.0.1 my-gost-document
```
После выполнения этой команды в текущей директории появится директория `./my-gost-document`, содержащая подготовленный проект для работы с Typst по ГОСТ 7.32-2017.

## На Windows

1. Установка Rust через rustup

```powershell
Invoke-WebRequest -Uri https://win.rustup.rs -OutFile rustup-init.exe
.\rustup-init.exe -y
```
После установки, если переменные окружения не обновились, перезапустите терминал.

2. Установка typst-cli через Cargo

```powershell
cargo install --locked typst-cli
```
3. Клонирование репозитория пакета (создаём необходимые директории)
```powershell
$targetDir = "%LOCALAPPDATA%\typst\packages\preview\typst-g7-32\0.1.0"
New-Item -ItemType Directory -Force -Path $targetDir | Out-Null
git clone https://github.com/typst-g7-32/typst-g7-32 $targetDir
```

4. Инициализация документа с использованием клона preview-пакета
```powershell
typst init @preview/typst-g7-32:0.1.0 my-gost-document
```

## Установка tinymist
Для удобного предпросмотра документов, созданных с помощью Typst в vscode, можно установить расширение tinymist.
Это позволит запускать мгновенное отображение изменений, добавит подсветку синтаксиса и подсказки и позволит быстро экспортировать документ.

[Ссылка на магазин расширений](https://marketplace.visualstudio.com/items?itemName=myriad-dreamin.tinymist)


# Соответствие ГОСТ 7.32-2017
## Общие требования
- [x] Межстрочный интервал: 1.5
  - [ ] Для объёма больше 500 страниц интервал: 1.0
- [x] Шрифт: Times New Roman, 12 пт
- [x] Поля: левое 30 мм, правое 15 мм, верхнее/нижнее 20 мм
- [x] Абзацный отступ: 1.25 см
- [ ] Запрет переноса слов в заголовках

## Структурные элементы
### Обязательные:
- [x] Титульный лист
- [x] Список исполнителей (если авторов > 1)
- [x] Реферат
- [x] Содержание
  - [x] Правило для документов < 10 стр.
- [x] Введение
- [x] Основная часть
- [x] Заключение
- [x] Список использованных источников
- [ ] Приложения (при наличии)

### Дополнительные:
- [ ] Термины и определения
- [ ] Перечень сокращений и обозначений

## Требования к элементам
### Титульный лист
- [x] Наименование министерства/ведомства
- [x] Полное и сокращённое название организации-исполнителя
- [x] Индекс УДК
- [x] Регистрационные номера НИР и отчёта, номер инвентаря
- [x] Грифы согласования и утверждения (с подписями, датами)
- [x] Вид документа ("ОТЧЕТ О НАУЧНО-ИССЛЕДОВАТЕЛЬСКОЙ РАБОТЕ")
- [x] Название НИР и отчёта
- [x] Вид отчёта (заключительный/промежуточный)
- [ ] Шифр темы/программы
- [x] Номер книги (для многотомных отчётов)
- [x] Подпись руководителя НИР
- [x] Место и год издания

### Список исполнителей
- [x] ФИО, должности, учёные степени/звания
- [ ] Указание разделов, за которые отвечает каждый исполнитель
- [x] Подписи исполнителей
- [x] Для единственного автора — данные на титуле

### Реферат
- [x] Сведения об объёме работы (страниц, книг, таблиц, иллюстраций)
- [x] Ключевые слова

### Основная часть
- [x] Деление на разделы/подразделы с нумерацией (1, 1.1, 1.1.1)
- [x] Заголовки разделов: полужирный, без точки в конце

### Оформление элементов
#### Иллюстрации
- [X] Сквозная нумерация (Рисунок 1)
- [X] Подпись под иллюстрацией: "Рисунок X — Название"

#### Таблицы
- [X] Нумерация (Таблица 1)
- [X] Название над таблицей: "Таблица X — Название"
- [ ] Заголовки граф — с прописной буквы

#### Формулы
- [X] Нумерация в круглых скобках справа: (1)
- [ ] Пояснение символов под формулой (со словом "где")

#### Ссылки
- [X] Нумерация в квадратных скобках: [1]
- [X] Соответствие порядку в списке источников

### Приложения
- [ ] Обозначение буквами (Приложение А)
- [ ] Собственная нумерация элементов (Рисунок А.1)
- [ ] Указание в содержании
- [ ] Размещение в порядке упоминания в тексте